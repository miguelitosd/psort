#!/usr/bin/perl -w
use strict;
my $tot=0;
my %data=();

# Load all the input into a hash to easily munge, also count total lines for %
# Using a hash also essentially gives us the sort | uniq -c
while (<>) {
		chomp;
		$data{$_}++;
		$tot++;
}

# Run through keys based on count (i.e. sort -n)
foreach my $key (sort { $data{$a} <=> $data{$b} } keys %data) {
        # Get % of total 
		my $p=(($data{$key}/$tot)*100);
		$~ = "OUT";
		write;
		format OUT =
@##.####% @########### @<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
$p,$data{$key},$key
.
}
$~ = "FOOT";
write;
format FOOT =
Total:    @###########
$tot
.
